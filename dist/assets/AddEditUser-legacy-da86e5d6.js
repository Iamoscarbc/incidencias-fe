System.register(["./axios-legacy-9c11ad04.js","./index-legacy-056b2097.js"],(function(e,a){"use strict";var l,t,o,n,i,d,r,s,u,m,c,p,f,g,v,b,h,x,I,w,V,y,C,_,k,B,U,A,z,P,S,N,j,T,F,O,$,E,H;return{setters:[e=>{l=e.a},e=>{t=e.d,o=e.g,n=e.t,i=e.v,d=e.x,r=e.a,s=e.y,u=e.z,m=e.A,c=e.B,p=e.c5,f=e.c6,g=e.c,v=e.c7,b=e.c8,h=e.c9,x=e.b,I=e.I,w=e.h,V=e.i,y=e.a7,C=e.r,_=e.aZ,k=e.ca,B=e.cb,U=e._,A=e.j,z=e.o,P=e.J,S=e.l,N=e.w,j=e.M,T=e.K,F=e.k,O=e.n,$=e.L,E=e.N,H=e.m}],execute:function(){var a=document.createElement("style");a.textContent=".add-view-incidence{display:flex;flex-direction:column;gap:16px}.add-view-incidence .container-images{display:flex;gap:16px;overflow-x:scroll}.add-view-incidence .container-images .images{position:relative}.add-view-incidence .container-images .images img{height:100px;min-width:100px;max-width:500px}.add-view-incidence .container-images .images ion-button{position:absolute;right:0;top:0;margin:0;width:24px;height:24px;min-height:24px;--padding-top: 2px;--padding-bottom: 2px;--padding-start: 2px;--padding-end: 2px}.area__image{display:flex;justify-content:center;align-items:center;gap:8px;min-width:100px;height:100px;border-radius:8px;border:1px dashed #b3b3b3;box-shadow:0 4px 6px rgba(21,25,47,.16)}\n",document.head.appendChild(a);const Z=t({components:{IonPage:o,IonHeader:n,IonToolbar:i,IonTitle:d,IonContent:r,IonCard:s,IonCardTitle:u,IonCardHeader:m,IonCardContent:c,IonButtons:p,IonBackButton:f,IonInput:g,IonSelect:v,IonSelectOption:b,IonTextarea:h,IonIcon:x,IonButton:I},setup(){const e=w(),a=V(),t=y({get:()=>!(r.value.firstname&&r.value.lastname&&r.value.phone&&r.value.email&&r.value.docnumber&&r.value.idProfile&&r.value.password&&o.test(r.value.docnumber)&&n.test(r.value.password)),set(){}}),o=/^\d{8}$/,n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/;let i=C(!0),d=C([]),r=C({firstname:"",lastname:"",phone:"",email:"",docnumber:"",idProfile:"",password:"",state:1});return _((()=>{i.value=!0,(async()=>{let e=localStorage.getItem("token");const a=(await l.get("/api/profiles/",{headers:{Authorization:"Bearer "+e}})).data;a.success&&(d.value=a.data)})(),a.params.id&&(async()=>{let e=localStorage.getItem("token");const t=(await l.get("/api/user/"+a.params.id,{headers:{Authorization:"Bearer "+e}})).data;t.success&&(r.value=t.data)})(),i.value=!1})),{addCircleOutline:k,closeCircleOutline:B,form:r,loading:i,profiles:d,invalidForm:t,createUser:async()=>{if(!t.value){let a=localStorage.getItem("token"),t=r.value;(await l.post("/api/user",t,{headers:{Authorization:"Bearer "+a}})).data.success&&e.back()}},updateUser:async()=>{if(!t.value){let t=localStorage.getItem("token"),o=r.value;(await l.put("/api/user/"+a.params.id,o,{headers:{Authorization:"Bearer "+t}})).data.success&&e.back()}},validateNumber:async(e,a)=>{console.log("form.value[field]",r.value[e].length),r.value[e].length>a&&(r.value[e]=r.value[e].substr(0,a))}}}}),D={key:0,class:"ion-padding add-view-incidence"},J=H("div",{slot:"label"},"Nombres",-1),K=H("div",{slot:"label"},"Apellidos",-1),L=H("div",{slot:"label"},"DNI",-1),M=H("div",{slot:"label"},"Celular",-1),q=H("div",{slot:"label"},"Email",-1),G=H("div",{slot:"label"},"Password",-1);e("A",U(Z,[["render",function(e,a,l,t,o,n){const i=A("ion-input"),d=A("ion-select-option"),r=A("ion-select"),s=A("ion-button");return e.loading?E("",!0):(z(),P("div",D,[S(i,{modelValue:e.form.firstname,"onUpdate:modelValue":a[0]||(a[0]=a=>e.form.firstname=a),"label-placement":"floating",fill:"outline"},{default:N((()=>[J])),_:1},8,["modelValue"]),S(i,{modelValue:e.form.lastname,"onUpdate:modelValue":a[1]||(a[1]=a=>e.form.lastname=a),"label-placement":"floating",fill:"outline"},{default:N((()=>[K])),_:1},8,["modelValue"]),S(i,{modelValue:e.form.docnumber,"onUpdate:modelValue":a[2]||(a[2]=a=>e.form.docnumber=a),"label-placement":"floating",fill:"outline",type:"number",onIonBlur:a[3]||(a[3]=a=>e.validateNumber("docnumber",8))},{default:N((()=>[L])),_:1},8,["modelValue"]),S(i,{modelValue:e.form.phone,"onUpdate:modelValue":a[4]||(a[4]=a=>e.form.phone=a),"label-placement":"floating",fill:"outline",type:"number",onIonBlur:a[5]||(a[5]=a=>e.validateNumber("phone",9))},{default:N((()=>[M])),_:1},8,["modelValue"]),S(i,{modelValue:e.form.email,"onUpdate:modelValue":a[6]||(a[6]=a=>e.form.email=a),"label-placement":"floating",fill:"outline"},{default:N((()=>[q])),_:1},8,["modelValue"]),S(i,{modelValue:e.form.password,"onUpdate:modelValue":a[7]||(a[7]=a=>e.form.password=a),"label-placement":"floating",fill:"outline",type:"password"},{default:N((()=>[G])),_:1},8,["modelValue"]),S(r,{modelValue:e.form.idProfile,"onUpdate:modelValue":a[8]||(a[8]=a=>e.form.idProfile=a),label:"Profile","label-placement":"floating",fill:"outline",interface:"action-sheet"},{default:N((()=>[(z(!0),P(j,null,T(e.profiles,(e=>(z(),F(d,{value:e._id},{default:N((()=>[O($(e.name),1)])),_:2},1032,["value"])))),256))])),_:1},8,["modelValue"]),e.$route.params.id?(z(),F(s,{key:1,expand:"full",onClick:a[10]||(a[10]=a=>e.updateUser()),disabled:e.invalidForm},{default:N((()=>[O("Actualizar Incidencia")])),_:1},8,["disabled"])):(z(),F(s,{key:0,expand:"full",onClick:a[9]||(a[9]=a=>e.createUser()),disabled:e.invalidForm},{default:N((()=>[O("Crear Incidencia")])),_:1},8,["disabled"]))]))}]]))}}}));
